{"version":3,"file":"AbortController.js","sourceRoot":"","sources":["../../src/AbortController.ts"],"names":[],"mappings":";AAAA,sDAAsD;AACtD,+GAA+G;;AAE/G,qFAAqF;AACrF,0FAA0F;AAC1F,iCAAiC;AAEjC;IAAA;QACY,cAAS,GAAY,KAAK,CAAC;IAmBvC,CAAC;IAhBG,+BAAK,GAAL;QACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACf,IAAI,CAAC,OAAO,EAAE,CAAC;YACnB,CAAC;QACL,CAAC;IACL,CAAC;IAED,sBAAI,mCAAM;aAAV;YACI,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAED,sBAAI,oCAAO;aAAX;YACI,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;;;OAAA;IACL,sBAAC;AAAD,CAAC,AApBD,IAoBC;AApBY,0CAAe","sourcesContent":["// Copyright (c) .NET Foundation. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\n\n// Rough polyfill of https://developer.mozilla.org/en-US/docs/Web/API/AbortController\n// We don't actually ever use the API being polyfilled, we always use the polyfill because\n// it's a very new API right now.\n\nexport class AbortController implements AbortSignal {\n    private isAborted: boolean = false;\n    public onabort: () => void;\n\n    abort() {\n        if (!this.isAborted) {\n            this.isAborted = true;\n            if (this.onabort) {\n                this.onabort();\n            }\n        }\n    }\n\n    get signal(): AbortSignal {\n        return this;\n    }\n\n    get aborted(): boolean {\n        return this.isAborted;\n    }\n}\n\nexport interface AbortSignal {\n    aborted: boolean;\n    onabort: () => void;\n}\n"]}